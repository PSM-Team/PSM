extends ../../../templates/navbar.pug

block content
  h2.title Previous Transactions
  hr
  .field.is-grouped
    p.control
      a.button.is-primary.is-inverted.is-outlined(class="button", href="/profile/-/transactions/1") ONGOING TRANSACTION
    p.control
      a.button.is-primary.is-inverted.is-outlined(class="button", href="/profile/-/transactions/hold/1") ON HOLD TRANSACTIONS
    p.control
      a.button.is-primary.is-inverted.is-outlined(class="button", href="/profile/-/transactions/history/1") PREVIOUS TRANSACTIONS
  hr
  each trans in transtab
    if trans.page == trans.curpage
      each viewer in viewertab
        if trans.strBuyerSNum == viewer.strSNum
          h3.title ( Buyer ) #{trans.strItemTitle}
          h3.subtitle &nbsp#{trans.strCatName}
          p
            b Price: Php #{trans.price}
          if trans.strStatus == 'banned'
            p Seller: &nbsp
              u
                a(href='/profile/'+ trans.strItemSNum ) #{trans.strName} ( #{trans.strItemSNum} )
              b &nbsp - BANNED
          else
            p Seller: &nbsp
              u
                a(href='/profile/'+ trans.strItemSNum ) #{trans.strName} ( #{trans.strItemSNum} )
          p Date Started: #{trans.date}
          p Date Finished: #{trans.fin}
        else
          h3.title ( Seller ) #{trans.strItemTitle}
          h3.subtitle &nbsp#{trans.strCatName}
          p
            b Price: Php #{trans.price}
          p Buyer: &nbsp
            u
              a(href='/profile/'+ trans.strBuyerSNum ) #{trans.strName} ( #{trans.strBuyerSNum} )
          p Date Started: #{trans.date}
          p Date Finished: #{trans.fin}
      hr
  each curpage in curpagetab
    .field.is-grouped
      if curpage > 1
        each prevpage in prevpagetab
          p.control
            a.button.is-primary.is-inverted.is-outlined.is-hovered(href='/profile/-/transactions/history/'+ prevpage ) << Previous
      each lastpage in lastpagetab
        each page in pagetab
          if page == curpage
            p.control
              a.button.is-primary.is-inverted.is-hovered() #{page}
          else
            if page <= lastpage
              p.control
                a.button.is-primary.is-inverted.is-outlined(href='/profile/-/transactions/history/'+ page ) #{page}
        each nextpage in nextpagetab
          if curpage < lastpage
            p.control
              a.button.is-primary.is-inverted.is-outlined.is-hovered(href='/profile/-/transactions/history/'+ nextpage ) Next >>
